# qoknvk - Real Estate Management System

نظام إدارة عقارات مبني بلغة PHP بتقسيم هيكلي واضح ومرن، مناسب لإدارة الملاك، الفروع، العقارات، العملاء، العقود، الوثائق، الصلاحيات، وأكثر.

---

## المزايا الرئيسية

- لوحة تحكم متكاملة لإدارة جميع البيانات (ملاك، فروع، عقارات، وحدات، عملاء، موردين، عقود...)
- إدارة وثائق ومرفقات متقدمة
- نظام أدوار وصلاحيات قابل للتخصيص
- دعم القوائم المنسدلة الديناميكية (Lookups)
- بنية كود نظيفة وسهلة التوسعة

---

## الهيكلية العامة للمشروع

```
.
├── index.php                  # نقطة الدخول الرئيسية
├── app/
│   ├── request_handler.php    # توجيه الطلبات وتحليلها
│   ├── security.php           # الحماية والتحقق من الجلسة والصلاحيات
│   └── view_renderer.php      # منطق عرض الصفحات
├── handlers/                  # معالجات (Business Logic) لكل وحدة
│   ├── users_handler.php
│   ├── owners_handler.php
│   ├── branches_handler.php
│   ├── properties_handler.php
│   ├── roles_handler.php
│   ├── permissions_handler.php
│   ├── settings_handler.php
│   ├── documents_handler.php
│   ├── redirects.php
│   └── ...
├── routes/
│   └── web.php                # خريطة النظام (المسارات المسموحة)
├── views/                     # ملفات العرض (HTML/PHP)
│   └── ...
└── README.md                  # هذا الملف
```

---

## كيف يعمل النظام؟

- **index.php**: يستقبل جميع الطلبات (GET/POST)، ويحدد الصفحة المطلوبة.
- **routes/web.php**: يحدد الصفحات المتاحة ومسارات ملفات العرض الخاصة بها.
- **app/request_handler.php**: يوجه الطلب للملف المناسب (view أو handler).
- **handlers/**: يحوي كل منطق الأعمال والعمليات (إضافة، تعديل، حذف...).
- **app/security.php**: حماية الجلسة والتحقق من الصلاحية.
- **app/view_renderer.php**: عرض الصفحة المطلوبة للمستخدم.

---

## المتطلبات الأساسية

- PHP 7.4 أو أحدث
- قاعدة بيانات MySQL/MariaDB
- خادم ويب (Apache/Nginx)
- تفعيل الجلسات (PHP Sessions)

---

## خطوات التنصيب والتشغيل

1. **استيراد قاعدة البيانات**  
   استورد ملف قاعدة البيانات (إن وجد) إلى MySQL.

2. **ضبط الاتصال بقاعدة البيانات**  
   في أعلى ملف `index.php` أو ملف Config منفصل، عدّل إعدادات الاتصال (`$pdo`).

3. **تهيئة الصلاحيات والمستخدم الأول**  
   أنشئ مستخدم مسؤول عبر قاعدة البيانات أو واجهة التسجيل (عند أول تشغيل).

4. **شغّل التطبيق عبر المتصفح**  
   ادخل على رابط المشروع عبر المتصفح (مثلاً: http://localhost/qoknvk).

---

## ملاحظات مهمة

- يمكنك إضافة صفحات أو معالجات جديدة بسهولة عبر تعديل routes/web.php وإضافة handler جديد.
- جميع الطلبات الحساسة تمر عبر ملفات handlers مع حماية من الوصول المباشر.
- النظام يدعم التوسعة ويسهل دمجه مع أنظمة أخرى أو تحويله إلى API عند الحاجة.
- جميع أجزاء النظام موثقة بتعليقات واضحة داخل الكود.

---

## مساهمتك

أي تحسينات أو ملاحظات مرحب بها!  
للاستفسارات أو الإبلاغ عن المشاكل يمكنك فتح Issue على الريبو.

---

**حقوق النشر © [سنة الإنشاء] [اسمك أو اسم الفريق]**